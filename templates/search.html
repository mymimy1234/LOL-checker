<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <title>Search Page</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #121212;
            color: #e0e0e0;
            padding: 20px;
            margin: 0;
        }

        h1 {
            text-align: center;
            color: #00ffcc;
            margin-bottom: 30px;
        }

        form {
            text-align: center;
            margin-bottom: 40px;
        }

        input[type="text"] {
            padding: 12px;
            margin: 8px;
            border: none;
            border-radius: 8px;
            width: 220px;
            font-size: 16px;
            background-color: #1f1f1f;
            color: #fff;
        }

        input[type="submit"] {
            padding: 12px 24px;
            background-color: #40af99;
            color: #000;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
        }

        input[type="submit"]:hover {
            background-color: #00ddb3;
        }

        .result-title {
            font-size: 22px;
            font-weight: bold;
            color: #00ffcc;
            margin-bottom: 15px;
            text-align: center;
        }

        .player-info {
            text-align: center;
            margin-bottom: 20px;
            font-size: 18px;
        }

        .player-info span {
            color: #00ffcc;
            font-weight: bold;
        }

        .match-container {
            background: #1e1e1e;
            border-radius: 10px;
            padding: 20px;
            margin: 20px auto;
            max-width: 900px;
            box-shadow: 0 0 15px rgba(0, 255, 204, 0.2);
            transition: transform 0.2s ease;
        }

        .match-container:hover {
            transform: scale(1.02);
        }

        .win {
            color: #00ff88;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .loss {
            color: #ff4d4d;
            font-weight: bold;
            margin-bottom: 10px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        th, td {
            text-align: center;
            padding: 10px;
            border-bottom: 1px solid #333;
        }

        th {
            background-color: #2b2b2b;
            color: #00ffcc;
        }

        td.kda {
            font-weight: bold;
        }

        td.kills {
            color: #00ff88;
        }

        td.deaths {
            color: #ff4d4d;
        }

        td.assists {
            color: #49aaff;
        }

        td.damage {
            color: #ffa500;
        }

        @media (max-width: 768px) {
            input[type="text"] {
                width: 150px;
            }

            .match-container {
                padding: 15px;
            }

            table {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <h1>üîç Í≤åÏûÑ Ï†ÑÏ†Å Í≤ÄÏÉâ</h1>

    <form action="/search" method="post">
        <input type="text" name="gameName" placeholder="Í≤åÏûÑ ÎãâÎÑ§ÏûÑ" required>
        <input type="text" name="tagLine" placeholder="#ÌÉúÍ∑∏ÎùºÏù∏" required>
        <input type="submit" value="Ï†úÏ∂ú">
    </form>

    {% if summoner_name and tag_line and tier %}
    <div class="player-info">
        ÌîåÎ†àÏù¥Ïñ¥: <span>{{ summoner_name }}#{{ tag_line }}</span> | Ìã∞Ïñ¥: <span>{{ tier }}</span>
    </div>
    {% endif %}

    <div class="result-title">Ï†ÑÏ†Å Í≤∞Í≥º</div>

    {% if result %}
        {% for r in result %}
        <div class="match-container">
            {% if wins[loop.index0] == 'True' %}
                <div class="win">üèÜ ÏäπÎ¶¨ - {{ r[0]['totalTimeMin'] }}Î∂Ñ {{ r[0]['totalTimeSec'] }}Ï¥à</div>
            {% else %}
                <div class="loss">‚ùå Ìå®Î∞∞ - {{ r[0]['totalTimeMin'] }}Î∂Ñ {{ r[0]['totalTimeSec'] }}Ï¥à</div>
            {% endif %}

            <table>
                <thead>
                    <tr>
                        <th>Ï±îÌîºÏñ∏</th>
                        <th>ÌÇ¨</th>
                        <th>Îç∞Ïä§</th>
                        <th>Ïñ¥ÏãúÏä§Ìä∏</th>
                        <th>Ï±îÌîºÏñ∏ ÌîºÌï¥Îüâ</th>
                        <th>Î∞õÏùÄ ÌîºÌï¥Îüâ</th>
                        <th>ÏôÄÎìú ÏÑ§Ïπò</th>
                        <th>ÏäπÎ•†</th>
                    </tr>
                </thead>
                <tbody>
                    {% for value in r %}
                    <tr>
                        <td>{{ value['championName'] }}</td>
                        <td class="kda kills">{{ value['kills'] }}</td>
                        <td class="kda deaths">{{ value['deaths'] }}</td>
                        <td class="kda assists">{{ value['assists'] }}</td>
                        <td class="damage">{{ value['totalDamageDealtToChampions'] }}</td>
                        <td>{{ value['totalDamageTaken'] }}</td>
                        <td>{{ value['wardsPlaced'] }}</td>
                        <td>{{ value['win'] }}%</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endfor %}
    {% else %}
        <p style="text-align: center;">Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§.</p>
    {% endif %}
</body>
</html>
